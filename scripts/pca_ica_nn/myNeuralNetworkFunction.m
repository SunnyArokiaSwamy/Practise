function [y1] = myNeuralNetworkFunction(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 25-Apr-2018 12:08:35.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 64xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-6.46029153530772;-5.9754528954543;-5.4234920653426;-4.84027274230186;-9.82662979041939;-7.38784000737703;-10.8122473453775;-7.11592519636121;-6.00688531393395;-8.12070639781238;-10.1487505945369;-4.07967284218419;-4.69299754690226;-10.3988529444498;-8.36327463689626;-6.66343983141713;-7.46271693365823;-8.64115535713321;-8.32626443460799;-8.21545012345599;-7.96575752487356;-5.06429096462749;-6.12208209920643;-6.40146269944782;-8.72307054018545;-10.6262401303222;-10.8735045487483;-6.88981256945724;-5.10975596155278;-8.73976561049195;-8.70975056550631;-9.02249818031818;-5.26396289045799;-11.1634256466601;-9.42708819208049;-4.37753183893828;-8.37913966737109;-7.72461315350644;-7.93061372355802;-5.27020149772468;-5.26026765775148;-3.88957234598111;-4.3683481117219;-8.80209497599994;-11.768258477785;-5.55300045990761;-5.75614634238431;-9.33641167958993;-5.77251463175293;-7.98298861017134;-8.43020365770605;-6.67431510071725;-10.4302619285869;-10.4046754851099;-6.58354016281025;-9.53819306032219;-4.8581837571882;-8.42588940342367;-6.48069757877081;-4.66626897571865;-7.29601357833272;-9.1595513313327;-4.24863321375671;-4.1859309462081];
x1_step1.gain = [0.171297665293792;0.152963965043572;0.145813106985586;0.148418857253022;0.125940334185162;0.131041824755228;0.14083579664451;0.147500878813217;0.137040007509978;0.142006800292241;0.104595624611115;0.186721185229097;0.124160154332855;0.125244849118288;0.126496041292752;0.145374643711776;0.120364726532631;0.16193734332167;0.139568256812774;0.164139424700882;0.146649161658776;0.222665731242752;0.129783993816402;0.117345750464156;0.120049224689093;0.132311704993444;0.12639325628663;0.149001541183683;0.13438608385937;0.0889043861047453;0.137570451576385;0.113271163222995;0.143145809383893;0.097001406751759;0.100624226066563;0.148609568580344;0.153588767106426;0.138088793102137;0.131634566951653;0.151055632504382;0.116882366488626;0.120848512030016;0.202461763501065;0.0891064283944176;0.117258529869985;0.201708008583638;0.115562283317938;0.117170533888868;0.128438436814141;0.100661459933469;0.141887916049476;0.150222423702541;0.125455826565024;0.0919288036955866;0.128528391673373;0.102070685607391;0.173268254108105;0.123685633651499;0.175606352839692;0.206336468856256;0.171355413821458;0.124306945337192;0.191697948264662;0.150252998748369];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.8692980390572613292;-3.5463933789057229262;3.1781629128173651821;4.4971429567113503367;3.351373152498756891;1.5085567496199894233;-1.8604826096040110173;0.32656073128370605163;-1.2819836664904522561;-0.60413660984505668239;0.50061090192803714416;0.31855382141233801185;-1.1059070967699362598;0.095201867391808178698;2.0450054488037729961;-1.7880802320572495301;1.5561200772983028173;-1.6759273961009280018;2.6675262670590340619;-1.0412031267880190732];
IW1_1 = [-0.45457259600316146653 -0.60104533392317838203 -0.97890039172825349389 -1.4228909511384906228 -0.31775965875737199884 -0.62087097413657510447 0.0065854766931213917086 0.056617633124056154781 1.1944156329190489529 0.037387083669535185748 0.030276095319358178187 -0.27478562789592075877 0.098294972693940760311 0.45057395544312855984 0.6896375408723476319 -0.4028088657977250131 0.6121375386322113199 0.3236790946353665932 0.095240421049978055135 0.38865458771391159232 -0.14922635794720123803 0.40175126883044498527 -0.484595417484340929 0.4523387021506107275 -0.058655963626393137211 0.39803375828919806967 0.44246603751254243164 1.0490053987373662014 0.69720790642710561702 -0.39315608701108895051 -0.58471579363599213153 0.9215262358216034233 0.57028769414142455041 -0.55698656107822730466 -1.1676741847378326877 0.44619166586392600138 -0.27629737709192808692 -0.6154694125080949485 0.62436299408129536381 -0.79202638446614659351 1.1637128162883387805 -0.58144566388389273826 -1.9785219425467561738 0.10337179330502216379 0.67195172763850474773 0.32822908597766820016 -0.41781089531398674097 -0.60397769540647894271 -0.24449757951253339727 -1.1244196807338371347 -0.14597960539728754847 0.27714634204827892638 0.19676827938235549875 -0.61414535304767270407 -1.0381016107032665641 -0.15303327084672685432 -0.29077635656967726341 -0.70175012435880079753 2.0842186578261086005 -0.63206962865438631738 -0.25219220369342237875 -1.0783543768044747679 1.0552130445085028398 -0.50395174067013170927;-1.9542224482622188031 1.3456254737605750638 1.0547273493030380198 0.83672504101197864301 1.6375469677715659422 -1.8802382356905875671 1.5532267682949159049 -2.8286889490319233609 -1.8834132150101772218 0.9636816558304075464 -1.5388493145987647281 1.2566672745009661583 1.5933449756837700928 -0.58429772079382391592 -0.54440581634592288829 2.5295117549591124018 1.0571614208682071911 -1.0847793170168666954 -0.20210140019441599768 -0.31024775097396467549 0.4380384752229354306 -3.9119020686976657686 0.72088815843731990363 -0.92745299624828381191 -1.6494484159073554697 -1.860285841032296883 2.3966220709698502489 -1.0245266919089499602 3.7276682987692386639 -0.46669328918918712157 2.7578513595737650377 -1.0590699919408015361 0.052865025441580178189 -1.0347166828384224413 1.0375178808207721204 -0.099952842282418907782 0.1529936816995950688 -1.6010014236728467019 -1.1361260887385720153 -1.7547771509667606793 0.51374169160052274297 -1.1632533087129479643 -0.61169669789935987581 -0.6354975073052228085 -0.87227782913820450794 -2.1989925329688708722 -0.39355106551418611582 2.1758967591386340068 0.99800303044793514662 0.013778208443632937799 0.81367408960497400461 -3.2958543305361489573 -1.1181401294488946263 -0.3213682842512687321 -2.221551589648488978 0.33982690767830103784 2.5871216055384422816 0.097950885206387922066 -1.235983110423568343 -2.3018293761779671236 2.4249019728887826197 1.684248107697830843 -0.085359775838049475882 -1.6084532519509233683;-2.8311288481338223733 2.5348557304515866306 -1.3698489433454108521 1.5806739572747767753 1.2090230445248413282 -1.0962883891490424748 -1.9813727156344373981 -1.8136930552636496561 -0.98280715252304784446 0.070521304510429302925 0.88381294503152441067 1.5491510848625145158 -2.5133323839690153712 -1.3255338723017975333 -0.22343364774796994898 2.5454186773813658462 -0.29876277930793748716 -0.50516902182187095605 -2.9926585850462865679 -1.2312419331240622711 -0.065823653789179550899 -2.1059930164084539328 1.5387674017080477107 -1.0036102324762337101 -0.018649346744995905917 -2.4320346768005758342 2.1323472589526821785 1.3560115589286150239 0.30968871028189653982 -1.7559618221847153041 -0.061496470469222165589 -4.1875915856382874836 1.3158196194510625165 -1.280781750490290527 0.88716758258108197044 -1.3950581136246682501 -0.6558384762308802074 -1.0193807250374127271 -0.48441541640902352484 0.38137552085117298883 -0.19561301218966997695 2.763376467451106766 0.5821519320916117568 -1.6578938900701947201 1.6902801962799338664 1.1346451755417263918 -0.22299071784217422421 -0.51207561959723890688 -0.84536667659038244871 -0.66692153920149510604 0.010113503957486370821 -3.6170946247870756629 -0.59189518512394645455 1.628094184669184763 -0.2257384252820416326 -0.56690230316534306887 1.0259320020157556286 4.7707268022995865664 0.63788469170779149575 -3.8520362122418090323 2.5771520593653485243 0.91196631060293942284 -0.9188549396039549233 -1.5438948121759004106;-0.83353820744667139753 4.036303963794631855 -1.7203774943364844585 2.7397768416636147926 4.368142118047511957 -3.8775092821718355474 -2.0828225097487962358 -3.8787096247961203588 -0.17944927758705883636 -0.069554990700294666572 2.6960006694397695703 -0.23921948964068442955 -0.71330115388221770889 -1.1411718359620663943 1.41948569304746397 -0.65303787525552314808 -0.20590497067027918598 0.1071515791000484108 0.76387164280595176713 1.3020497411536997578 -1.6511910230618365159 0.31140739713093973373 -0.56329684865319096243 0.22924509679132970552 1.1813025173760327569 1.2622721584146072704 1.2106286215370207771 3.3928386667331706938 1.4221077593815800721 -0.2521783372316826477 -1.7070850239303589913 -2.5015376567669989072 4.4071082239699030936 -2.6538596939718570589 -2.7483943490107201058 -2.0683566621504905214 -2.3154188732990159671 -1.9395086401929808595 2.780578956970964466 1.8138260792213241057 -3.9293104493302966063 0.44650959044254839858 -2.2024970836493071857 1.7676700107073206603 0.73062680764039356074 -2.1132985698447872558 4.3178436377893438802 -0.6418930448673513256 2.144318541713566173 -2.3976702460938383865 0.83832868293498641332 -0.76898876741121946488 -3.5692784563850308288 -0.90910848009949551951 4.3433279598749159334 -2.1866557619099347143 0.76429627050618720308 3.1246388403967482184 3.0685768493700544823 -1.3675347047752575147 0.90762865923760982501 -3.5316496979010731927 0.48588567198778487288 -4.27693730087748758;2.4718444405169575084 -0.37350902300271077161 0.33436333333656159672 -2.3047926967421070721 -0.58233222927422123583 -1.6649654192347627113 2.8708610910578182818 -0.72581480683480270599 2.5521012472603255006 0.46834461285614970016 -0.28922287673528146446 -3.0241793826661655942 1.1565441385660082396 1.5028950935003124734 1.4093825719107411221 -0.48367158228503220885 0.86953302206045690603 1.4293643422997690529 1.9268463619153413102 -1.1079503476728531641 2.6017790545243784095 -0.61040982649486963396 -0.36805110796629719738 0.90772255215846542331 -0.38329424695664338074 0.21262504213690722188 2.0057068045902051168 -0.047302085224634783656 1.0665611988185532688 1.7998519858042745234 0.4027131151651153762 1.4764795310999567768 -0.34136489264650715647 0.29378170683900795002 -0.033879577693097281954 3.3786330267872357602 -0.18778906828389249628 1.2525131779818632349 -0.098672201130184350459 -0.39998097215468575438 0.27844831801117547743 -0.93247674379948330969 0.39308932447990285741 1.0772609588990795793 -0.71578847830423086851 -1.281525145644982322 -0.57402723646380215961 1.2904775068052707354 -0.84546841634402236654 0.087185095740818618903 -0.46689886899557991873 1.759026349986266613 -0.94327759083679729724 -1.1812433192635194423 -1.3844644321281256438 -0.36397367408361380736 0.93613617780384328348 -4.4446266060168309053 -2.2673066991917907309 0.98321793615986097237 -1.4912920545796144456 -1.3818952447749508483 -1.9642160236451273736 -0.41901412991662095875;-2.4148511443659952391 1.9378042311113978791 0.44260961337606979926 0.0055011995761063605531 2.5169508835593235041 0.47538414702205006312 1.3693987925975592557 -1.6965100924995741849 -2.14984381381815437 -1.1985177080563929053 0.57583713093256594373 -0.2793476062947040095 0.38097354878377898135 -0.47873873015957080224 0.36431876286177827806 1.1492262734878426755 0.92750755656463879095 -0.59336094736293609753 -3.0555796507288968122 0.0015149495740653350084 -2.0121242595739690096 1.0526039437263725596 -0.65873885092498418725 -1.2980198589428952882 0.026031072433833568613 0.52598939596926519435 0.4578900986041503085 0.78962960307265772641 0.27378661407846172082 -1.4067189515098295072 0.37017695653471122119 -0.032308620147414583712 -0.19597589152059141648 -2.1986462206035515266 0.83408381644242901576 -0.22790814312293711241 0.22002108268103898192 0.51843120756355209888 2.4056650716587921757 1.2230890477590423693 -1.1222228999230354773 -0.0088246333935196388798 -3.1346749510771374503 1.2774629343010219795 0.021773390426806843445 -2.6277112555025063934 2.3906737387821559437 1.1665806758986845271 4.8707849025838036994 0.87029651087877013538 -1.6934756071768719554 -2.0259017727499215589 -2.5657324372922025724 -2.1562293783563197813 0.28014418611288899319 -4.2216754810168524159 -0.94008377246707597319 3.9803989710071130403 1.435815352515548593 0.25148407982590631482 -0.8191958587918850565 -3.6801532441055440081 0.98400361192267493671 2.1124740861350397303;-1.6005986723710809994 0.028778487719747725126 1.2490201033951331411 0.32873319924162519579 -0.99139438182319861159 -0.45299322047105150535 0.0076507332283312313656 1.9334748042405704993 2.7050831827789907358 -0.44366305834656860618 -0.47166936051889973847 -0.17397183984540881552 -0.43572101705537175098 1.327501060673554667 -1.3280980020802282127 -0.78946998493236220096 -0.213091247261126715 -0.96234668809406498369 0.97109895288953773651 -0.43593140805166924467 -0.9690701967599661959 -1.3212008111047437442 0.59318993850868917406 -0.25301156649104550311 -0.38294554737588343274 -0.76039055069346062066 0.56724441169867256818 0.24666183778490799461 -0.86170097614377860751 -0.19175250213220210171 -0.85417847646295941288 -1.4108411306489510029 0.44672930392554277557 1.7245854647371217094 -0.30188587734863953083 0.50892556793128196357 -2.237422110211842341 -1.479060761856962225 1.2154589597366147746 2.0026039464568268222 -0.6788855156414894676 -0.37877991190547755096 2.0941777561119021556 0.52908838511191258469 -0.90703801592419308619 -0.22397495021157218242 -2.1864709897493650459 1.7024210886232093998 0.14587274906810568376 -0.46570553692492144826 -0.99878022036122271476 2.2277802656390752745 3.2240034316921484248 -0.3444019575034977243 0.079788041514611718341 0.53089189956559734718 0.057817632670628490987 -0.8396863792245840008 -2.9932221088625348138 0.32934559871694868427 1.7024685218931692177 1.1379360245278398178 -1.3201734890338869821 1.4740213838328730667;-1.435672755172779036 1.7478085752835179623 -0.85769912312273577371 1.1665574047530629098 0.75165494472745575383 -1.0495639706248320877 -0.79708215079922728474 -0.0042302754333544689835 -0.86656493935887191071 -0.84141352025762006228 -1.0342454226975867915 -2.4506088103378211862 -0.20643362024215941575 0.020452642881636205058 0.20564373026746013418 0.90028960495155585519 -0.23530745953354173516 -1.3103507785054273604 2.0895146174982097698 1.6478771580133644292 0.36774678172314989588 0.27667400670321157241 0.74295947067784584572 0.68239605638347222705 -1.484632531538756739 0.19832080576134747396 -1.7892364172489139129 0.23616599820078879035 1.2569451829244342456 0.78497511662430574653 -0.33697947906298270082 -0.58857521389054978656 0.69707584011079271047 -0.92901986053359197903 -0.50594638291925264628 -0.24949238086744160436 -0.76411738783230043204 -0.88467147141566970792 0.85700951859519935994 0.71935447076384106957 1.0927155370713754756 -0.019927631735738287472 0.79324127321847759386 0.0072697623117500744655 -0.27864966098029092523 -1.1836083075228345241 0.96212768109642887726 1.6667736407911062368 0.59984172178021610833 -0.42980077580380765534 0.62599561179888585372 -0.11038700300318150804 -0.33453930493279515623 0.5373991316662430906 0.51357347932532504409 -0.40016062912834904353 0.83279615183474131612 0.073291561568121249559 0.56138732383788059188 -1.2276439400080230158 -0.2006995996726387288 -1.2600568031282681769 1.6545634633577126493 -0.044548091122062670466;-0.21646189662852668989 -0.11801005363324321151 -1.5279569002434973957 -0.55863550395357608469 0.3618867061464584034 -0.2715402240094756392 0.26725372785952716814 0.23493048271658381609 -0.43694205497520127723 0.10679239058580949906 0.32951252030361755097 -0.68569659231011215184 -0.60761395495575232228 0.39147195065698719985 0.19951922063744598201 -0.43650544319393674852 0.11156276363228458115 0.21134082264093556613 -0.31639442056730765485 0.008072457748926569962 -0.22621104016337897913 -0.30018973000362825232 -0.93793327225934697289 0.61858259558600836581 0.38055190380130810013 0.21768112259178806767 0.49339689766114885883 -0.094082926964272797776 -0.3812134339618863943 0.41931907019994640873 0.032695633872216724181 -0.39494473133510693552 -0.46633172152115576203 -0.19416041976120806956 0.79819697929649247037 -0.9761558462167249095 -0.014781058738748298342 -0.313409583147286952 1.1990062259339202555 -0.26406264232670656478 -0.67536930571059172745 -0.016844094945665369356 0.63931786230632459134 -0.012113039719065082575 0.29375973136442756761 -0.31820413202673664133 -0.92295138279391064628 -0.51975994813484971413 -0.39226057750255272083 0.72572898330832724678 0.88704753606831343582 0.66989702202215539728 0.21081753449584658688 -0.021399208978197071379 0.26016302694378989901 0.30825575140333250079 -1.1382444743149211508 0.18634468986105184873 0.46215752000518778297 0.65449830178309909012 -0.802011128460108913 -0.70033964794932579423 0.711039127865333076 -1.0179074824132638977;-0.70821778340355845405 1.5583606950224608845 -0.15793734795243133395 -0.82057789801166780563 2.1621677361330084999 -0.66603909567757502153 0.77251430103154250517 -1.1226871499668318322 -1.0148940427493482463 -1.5378172087661672318 0.34788339508629484431 -0.71932835452846954905 0.96598675896712715705 -0.42164673798821211692 0.76709606946676056616 0.39332820082998604105 0.47313416475722691601 0.046737706828640819545 0.78895184362990744553 1.5392041247037602236 -2.7278781467682780004 3.097079136735644056 -2.9342951660439302586 0.37772701389593932308 2.2656430021581250855 2.7717255536238307734 -1.2188302945541114042 1.5251046841744848592 -0.36898525353204447708 -1.6700309441136345079 -1.9345538327225593189 0.48753525329226832241 0.27004103712875487942 -1.4233443522609821041 -3.2297874384917690804 -0.39915446182593333768 -0.94832088978895212605 -0.016461417220231248926 1.9227650535688174394 2.4091346085629989915 -0.44683437153159849542 -3.2490424230614096679 -4.11690176988469414 3.3435120343885627037 0.96480624197491693383 -2.8453048571743253525 2.2041324295680224665 0.49274713939307163146 2.7906230226343451406 0.53025853442146309025 -3.0858564487386086483 2.1608224225707655108 2.2963160569294358559 -0.35503264035457815506 1.5390696659529869983 -2.8920030131164438103 -1.1665472258342328704 1.7848763512811756105 2.6701947702994277556 2.5479866796890600078 -0.15337137134832681817 -0.016766288052893995458 0.79783228595219246593 4.060904661879062516;1.3076821788394266122 2.3163391346196058329 -0.42631225332190481048 -1.2930994478733153219 -0.68309034135437673996 -2.1721996316851495124 0.24796701566430040531 -0.2231285217927048703 1.6957584923962367718 0.30952713243116264374 0.1703761836852905609 0.28632056467790178989 1.6905678537705617348 0.5364023004803556427 -0.011300475936659722803 0.8070260936414174191 1.8838996048161833485 0.36752199667737589506 -0.64409686428466284003 -0.50532029725130889197 2.84231624125408322 -1.5309307540398986447 0.42151821766873631692 -0.47282193198109900845 -0.43848606462925149296 0.31305539054420639111 0.18822010422060336809 -2.0720099806044283142 1.4817862182277634631 1.9560792296347708774 -0.073835361599486212802 -1.6469815655840203128 1.6935386625618860101 0.56080578314298934473 1.2915893650248662095 2.8831266186600745804 -2.1382854792141881006 0.061649786646825410763 -1.6471201634027081706 -0.9075307467676455575 -0.0038506305850364895907 -0.26658406668654155425 0.93407573461644721746 -0.60281506567744636005 1.1030192630039852286 0.4198189364660933065 1.4961261313498666059 0.77101559399991415056 -1.9920009729914824881 -1.0310508856761486651 -0.14941784545487929448 -0.74491094938101953815 -1.6230416710418216208 0.51913174326305611128 -1.9705984277884369682 -1.0011732743755474839 1.1968341585630033475 1.0719878955526827014 -0.96816964925257953389 -0.30174353948612403498 -0.60677527123018637489 -0.048887114313211944838 -1.6498517091056170703 -2.388778622696868581;1.6629306405287200832 -2.1134435617461790891 0.39719037665307960205 -0.92268755987673123364 -0.73716552276066393823 5.527546903408900647 -0.92066999088297540865 2.8406309189575265073 -2.7244430880465073663 -0.40094944383535469079 -1.2490363822508592229 0.58497293252486659565 -0.065434892822302026527 0.18777000190829262749 -1.9512146065364219805 1.1237178202711908259 -0.37935025038279501786 -1.7388294028486717124 -1.102043617116389207 2.4073969501945398086 -2.2853547748651017457 1.6111191853757327319 -0.11028601589802197736 0.44245511038965928963 -0.14548764456676649415 0.14903788914366683516 -3.0437348685206315757 -0.036713563968465715015 0.35259666911561127201 0.17834938078711545795 1.6545560698185253212 1.1123259398102964823 -1.6640459436448398201 2.1626466203892538154 -1.9806178168064565437 0.24734205875835491018 1.0195929133046695014 -0.5201790020463502584 -1.6391582538772242472 0.6707920058679044395 1.1730475824346655589 -2.0271797703744618424 1.38448216501411836 0.79957521338549153445 0.69197071128284348696 -0.26181115006623228991 1.0217806891587417617 -0.73816356375844105475 1.6762452059815675653 0.96526478965987216885 -0.55509623624045767443 1.6027045994937312301 4.0493371919747351839 2.0008254893924837248 -1.7111939987468904878 2.4971104702642294981 -2.5567605252304588248 -1.5301985454621900296 -0.39345499029262831492 -0.69391834692894316383 -1.0527351213145494935 3.082536399582864739 0.63306692067801817458 3.9901032271408443108;-0.40385165301863168441 0.7633236201521151898 3.9165556981873979048 -0.19115410600895138549 0.66607387581729238235 -2.0373296067815478416 2.3240473446071741037 -1.1955174510968227253 -3.337523874688023362 -1.8553327146157470029 -1.0555907679188361037 -0.10002663789074701939 -0.72331713141125320021 0.30922425336700953835 -0.1186127651139985556 0.81671831815958795264 1.4945187773358079575 0.6077245332091688601 0.58361848664993287716 -0.02738976977391555101 0.2242677097244115958 -1.031653542346617991 0.88372885549129853722 -0.098017539954725438345 -0.70258824110822903908 -1.092477763311477279 1.1529999386887479496 -1.162469934925497661 0.34027580170168864049 0.77743545022323823357 0.58423699617192836886 -0.87313848082122913485 -1.143792931431242943 -0.63480642830773748031 0.88509816006398667199 -0.60216109559557451369 1.668391943585486592 0.45291186019529811047 -0.63742651747279477359 0.3323185052853920296 1.8165378573312696009 -0.7126193013735040438 2.0111390401076376655 0.9265973195547527741 -1.9544047291831128099 0.69722894071999519383 -0.17009417319663286405 0.39683240664748509197 -0.77941908296845563431 1.9223327835343126946 -0.85258738602196348921 -0.59955963204247608722 -0.40434342990162142062 0.25907927906532762785 3.3899234580460433364 0.5025938630637911686 1.2053945990056496029 -1.5241726624892604214 -2.7371315668478652938 2.6723179265913499236 0.91696645437311052884 0.54767332710305860477 -0.78341825809782117407 1.5007026514259427241;-0.92382654349026993579 -0.60055504787285318713 -0.039181361784081339406 2.2995509088842722711 -0.13625854188063607486 1.5571938111646059788 -1.7281898954956782521 0.66071840795797309731 -2.7562620790185596853 -1.5100035828876749999 0.73353372156716634134 1.8225388328240426095 -0.99648617847521203661 -1.0413195357661622076 -0.58113903581127857034 -0.25235890379529923866 -0.095029821728171481876 -1.9922955726438515978 -4.6384393769272884711 0.9327305395792367948 -1.5409677420534666492 1.0135763226242453516 0.8126173437918272624 -1.2210326147657741824 2.6910562659645562711 0.12412888873429482606 0.23390144600410761599 0.28558544079205239186 -2.7156586932789226196 -2.5039819043667757015 0.014408396855931719996 -0.89745223604559920538 -2.3896614862789515854 0.72216990604745823212 0.8368470302190460508 0.15310289742407107161 -0.49884128303579627906 -0.88789520372803942827 -0.48021055398815504223 0.38756820838192945766 0.75092154472931638143 0.057318469132740412775 0.83352943449211269744 -0.99048944621285506251 0.65221309968134077995 0.53853185485251686693 -0.72543814276292295506 -2.1775560080724041256 1.2386201588700105347 0.5655987187303569419 -0.035540053450239965371 -1.2438680657077139102 2.282993650807722652 0.59116394143955908191 -0.82996489092162173407 0.065529866643881107269 0.035185050849247716254 3.0167760221599864146 1.4122416998419338174 -1.0948660882633949321 0.97898572623911361834 -0.85336663033716431137 1.9213790400056081076 1.2870342056444905587;-0.35451731806646380463 1.357716134979233491 4.1219109429155604829 -2.1164537945993835422 1.5367409282939412662 -3.6944990031228890359 1.0801713422980416812 -1.8020462976626097085 -0.66574180536987026535 -2.7757316439253600926 0.53639097134330993022 0.74166755389868965764 -1.3497591222120384202 -0.41793631243341738957 1.8290274496589871145 -2.6390740312704319415 -0.37946946390492103385 2.5920037861723179695 3.1281579928223690601 -1.2333979162121704309 1.251699924000906794 -1.2715403717659250482 1.6575258977345206368 2.1678438073110548601 0.032873888124936509469 -0.041834186581808853467 0.66459230261915203108 -1.7715577328749443353 -0.66031089154914257566 1.063890962526871764 -2.9878130676159120327 -0.6810522224946806702 -0.64135027773251451766 -2.8702113030279985395 5.9814838342091825041 -2.5490729188049399134 1.742700990823767393 -0.87493636102560834455 -0.84205427948612698863 -0.4763633399460577289 0.34211607093681223324 -0.91390733995844819493 1.4961472229426431291 0.11866944665628499644 -1.0402531575021751742 3.3034903176873817721 0.33619967144087686828 -0.50876744675567808773 -2.2476037966039488225 1.0493668955391473041 -0.58004151892385868994 -3.1303433973632488474 -1.3720230261930999038 0.85899353219486551669 2.9373158093132492041 2.0915385306410558819 2.7144190973391286725 0.065070157089229030412 -1.3313603169130634463 2.3598936796014977624 1.7635349599837979451 0.1120741065269093284 -1.9149475063476741887 -0.018733943320742605515;-1.737305594003618836 -0.12917669634913411802 -1.554869996757678452 0.37004509488377085313 1.354741019259157353 0.60952359685432588865 0.59298292307738875717 -1.3169615757353545504 -0.33901579217224053764 -0.68231864803572028766 -1.1297304226222153467 -1.8556724783221583142 -0.20763124966448015529 0.12360254368847944928 -0.30184573431639510899 0.47280393529017089582 -0.022837533894687147423 -0.25282437003657043384 1.93471486143204352 0.51988023911594039017 -0.80732547238428742364 -1.103770664891736919 -0.56261988913963334458 0.43094210011157879636 -1.7340278711877545881 -0.13461383742013091624 -0.90730383937220737689 2.1136954937717447045 1.6536972487333365667 -0.21736541110802592991 -0.57134649460549824518 0.60789895455151277126 1.1852582224570757941 -0.36433976294075726132 -1.6992391563258153475 -0.10326195855492961706 -0.11225588611551255702 -0.30855965310861288575 1.2750482243961098749 -1.0069358490910549353 0.21841814623954883268 -0.69431694253569331554 -2.2798789179413669892 -0.33161996924039915946 0.22646691813433966756 -1.2699445042091348501 0.68507884153682518935 0.079176635577090662133 0.45080552213058638911 -0.75482873835058017509 0.38310745018863023859 0.43213421132075158226 -0.24291058536226231568 -0.60604907825042519942 0.85868601998612203996 0.90199547629372067714 0.55915694218130096438 -1.695270490636947569 -0.26662897943529789702 0.4606302483085994437 -0.17913995633838886157 0.016507384289726725196 -0.32642226102605326199 -0.76863589582638147668;0.48054646024220593059 1.3047978379494984402 -1.388155527875385431 -0.63270808831060021404 -0.68049749682850035892 -1.0905297767406569864 1.1367282283433854939 0.87484223283336493004 -1.7702444046938441424 -0.3283994181336820084 -0.27977493779485518299 0.94386662976067114972 -0.49157857788865455539 -0.66541984300095169402 1.0278334986523245398 1.2687265455844094486 0.11461578565658121776 -0.81991321727700916533 -0.80466252600319032595 -0.7886005552218674497 -0.16663164717082368238 -1.2162663448037653868 -0.19118486576491139362 -0.87226275493748761658 0.1422885449412238934 0.035867537376674682448 -0.098481214839888656098 0.030401235150986378325 0.16909266047184767778 0.11433393111981374202 0.27305679747555572368 1.1128023999359974994 -1.0499361649843914623 0.30493959758806715721 -1.1977211999448831303 0.41830026424127669804 -1.1337638589041356685 -0.23211258982167984333 -0.24205681209478799309 -0.65392657722730862524 0.29706529715601798225 -1.372247745388854856 -0.91092166989703482471 -0.32931545323527927627 -0.52853764351786158837 0.05835034159020657113 -0.1738641930940192093 0.048270461744477230481 -0.89980515731734100893 0.63239046869683335217 -0.49727666218687832655 0.3295929759915340318 -0.60391462475325297099 -0.2959488720319362054 1.2242448717562461891 -0.93319183301734964786 1.1214536529027359091 -0.86836757379784978994 1.6193823598654422113 1.2452622070035448409 -0.084521832085433040715 0.5357248732793170598 -0.35229644872554838342 -0.69933532810642928812;-0.63873772817252238987 -0.69734643415952357604 -3.1085798661139887322 -1.5419176267832037652 0.18970510476058727312 0.14020444934331255382 0.79462400658884124738 0.58482272120776679358 4.5367489998495456049 1.2435438771343714226 -0.46188970702428772119 -0.71468052078875266009 -0.89927547640552096819 -1.9925518644108783928 0.079467283655104983819 -0.21990191676681891675 -1.4189705260344029902 -0.87182123514231357753 1.0488591413907575323 -2.6203206216529357775 -2.2416371219899082767 0.4526719914737013517 -2.1808798759211494023 -0.47023941261720764162 2.4660865751269267498 -0.70521001078862377565 -0.82084967770586525493 -0.84184135397256576461 0.58135974673446122463 -1.6806474440741225873 -0.12994709945811841467 -1.058421894943932795 0.3149240748538051915 0.18319951063024667026 -1.9369750077468446126 0.63910243074861139423 -0.79406725615726969636 2.2322361114659501347 0.86776177956556266313 1.5752738208296699352 0.32763722084527802103 0.84519026616785053463 -1.2447988140098469323 1.7858241694918834952 -0.2977891892473986668 -2.3830993144405283601 -4.1863683893688241611 4.667981471693002149 -0.31383661182481192853 1.7870458415020804566 -0.49507843396319278773 1.5269610926948173901 1.1206896820399729897 -0.92758986366949292002 -1.3831577050895031977 -2.3364291868688153997 -0.51738438511011086707 1.5630226418929829002 -2.8245323536262705311 0.29307346758550512078 0.65461808512165486906 4.6177982360650782212 -2.5122899551417230413 1.233980137474635308;0.76267618952938298627 -2.7848347626289857715 -3.1107486259150176622 -1.9462406599122570316 2.7984521189590303436 4.0598983114401194783 2.9027920809277119041 -0.086061372752140319342 -0.58065247923999108171 -3.7153305557081277577 0.85894861972279989981 -0.62113094673556590308 -1.5218691294485373611 0.33686034368903033931 0.15404891939062673178 -2.9400560981047081377 -0.17310722957915969378 -2.1730756652401166384 -1.1986848582032580968 0.1080102870735675652 -2.0219107682712138541 -0.87434614880961558647 0.082768879193900551927 1.5613450123040859552 0.86031335878004944195 0.23020499633260954608 -3.5947518279021735133 -1.4292413130396572907 2.3052621540791040644 1.1739514478646502216 0.65808186988433092779 0.70843334746373320954 -1.7318656853134000162 0.53241294935376293207 2.8337472909520928788 1.8718659038470513156 1.1513298403966920613 -0.44249302955061475817 1.1454642498530942518 -2.1862539097746864769 2.0032828931039485809 -1.1596052726958887558 1.0847780519424223833 1.370783041806861835 0.077267818783382624659 -0.80630107774107806495 -0.78059329792980503004 3.038929243697739313 1.0227736932420010696 1.2305889651924279971 1.5178293219919110069 -0.47464722175782741997 -2.877850866122843243 -0.44790651014156723786 -1.9561660653564856283 1.4346059981874226263 -0.47741848986823082202 0.94637060236781389566 -3.8470530718309787765 -1.6144912656274668095 -1.59953498250113757 0.23854591559697083114 -0.58866941053786936422 0.34724607269393609199;-0.6841689884347146311 0.43120443739793790083 -0.39982590853815042076 0.61833839924017763856 0.37659592696601928985 -0.72128218516164954721 0.13761945790340801565 -0.35997666404609474089 0.37087686940016245662 -0.11677443540671501865 0.43752752532942373875 -0.66958593846997749299 -0.25812927986290401527 0.23739883171747949708 0.44552541405564327626 0.22706072850473715818 -0.028217004520046551352 -0.48411265022814564674 0.091354118655620902834 -0.10343464656955775327 0.173091511579299695 -0.42961106649898839205 0.1286658896291844878 -0.44398954768358861456 -0.80003934724240011178 -0.38089950578601511344 -0.079534448451319059159 0.46863640478724644112 -0.009678695059983317972 -0.33457449854827681079 -0.12105693981344697874 0.03059261101311576414 0.12971652416064416435 -0.34446016344986829516 -0.61089546586699927655 0.31701025136684696237 0.27229621683147575695 -0.011663117653250835992 -0.037100243641953252471 -0.11937130066997465871 0.64346396089212576364 -0.38206893601789793102 -1.3066210140590175381 0.16532825704256437493 -0.10497072563897762165 -0.13101569064728285641 -0.0075350747878076629674 0.38779893137909376977 -0.46509801711147469305 -0.49355077272699593438 -0.3177706542979676918 -0.29411456496834165186 0.28095558663740333172 -0.54136521392503922367 0.38424273216548776588 0.16672991402588321908 -0.10759838031350470178 0.28062990969375856132 -0.023065209323104528955 -0.054962474135342768988 0.2198321455606063457 -0.24370414310869090158 0.14993942912293686809 -0.48136170937159628025];

% Layer 2
b2 = [0.69355232865129756714;0.65297509653374596894];
LW2_1 = [-2.1772678006590107103 7.4401605020092071996 6.4185614224083540336 -10.612936067251483863 -10.061798363644749443 -6.3719690949314129469 5.9784925770312504767 -3.240909053482639024 2.6073461745669113121 6.7005459582809336894 -4.1362065922717778932 -5.1219185158533484525 -5.9664546772413888931 -4.5489275315085846429 -8.0290559430204400115 -4.0954757326769541947 -3.9544557052336983816 -6.5951550902063154069 6.2510206591122301489 -0.45378875429897974625;3.5017408604237068026 -7.1052874511590022877 -5.7435496406676520564 9.6732029011641813554 10.045711747554513238 6.7311355718882239785 -5.5452817667762399623 3.6263253247559323889 -1.7193487930155650911 -6.8989872947225334698 4.4766469604415028982 6.3324399480391928563 5.3532331609506744741 4.30158553831416679 7.8924929610689922299 3.2376428384070909949 3.3912664274995796276 6.8121029849041816462 -6.6631144428015023351 0.79958427691384204028];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = softmax_apply(repmat(b2,1,Q) + LW2_1*a1);

% Output 1
y1 = a2;
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Competitive Soft Transfer Function
function a = softmax_apply(n,~)
if isa(n,'gpuArray')
    a = iSoftmaxApplyGPU(n);
else
    a = iSoftmaxApplyCPU(n);
end
end
function a = iSoftmaxApplyCPU(n)
nmax = max(n,[],1);
n = bsxfun(@minus,n,nmax);
numerator = exp(n);
denominator = sum(numerator,1);
denominator(denominator == 0) = 1;
a = bsxfun(@rdivide,numerator,denominator);
end
function a = iSoftmaxApplyGPU(n)
nmax = max(n,[],1);
numerator = arrayfun(@iSoftmaxApplyGPUHelper1,n,nmax);
denominator = sum(numerator,1);
a = arrayfun(@iSoftmaxApplyGPUHelper2,numerator,denominator);
end
function numerator = iSoftmaxApplyGPUHelper1(n,nmax)
numerator = exp(n - nmax);
end
function a = iSoftmaxApplyGPUHelper2(numerator,denominator)
if (denominator == 0)
    a = numerator;
else
    a = numerator ./ denominator;
end
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end
